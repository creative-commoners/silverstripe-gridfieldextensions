!function(e){function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}var t={};i.m=e,i.c=t,i.i=function(e){return e},i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},i.p="",i(i.s=5)}([function(e,i){e.exports=Injector},function(e,i){e.exports=React},function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t(8),a=t.n(n),r=t(1),s=t.n(r),d=t(7),o=t.n(d),l=t(0),c=(t.n(l),t(6)),u=t.i(l.provideInjector)(c.a);a.a.entwine("ss",function(e){e(".js-injector-boot .ss-gridfield .meatball-menu__activator").entwine({onmatch:function(){this.drawMeatballs(),this.closest("form").changetracker()},getItemId:function(){return this.closest(".ss-gridfield-item").data("id")},getData:function(){return JSON.parse(decodeURIComponent(this.data("actions"))||"[]")},drawMeatballs:function(){var e=[];this.getData().forEach(function(i){e.length&&e.push(s.a.createElement("div",{className:"dropdown-divider"})),e.push(i.map(function(e){var i=e.Title,t=e.Link,n=e.Type;return s.a.createElement("a",{href:t,className:"dropdown-item meatball-menu__"+n+"-action"},i)}))});var i=this.closest("form").css("position","relative").get(0);o.a.render(s.a.createElement(u,{id:"meatball-menu_"+this.getItemId(),container:i},e),this.get(0))}}),e(".meatball-menu__versioning-action").entwine({onclick:function(i){return a.a.ajax({headers:{"X-Pjax":"CurrentForm,Breadcrumbs"},url:this.prop("href"),type:"GET",complete:function(){},success:function(i,t,n){var a=e(".cms-container").handleAjaxResponse(i,t,n);a&&a.filter("form").trigger("aftersubmitform",{status:t,xhr:n})}}),i.stopPropagation(),!1}})})},function(e,i){!function(e){e.entwine("ss",function(e){e(".add-existing-search-dialog").entwine({loadDialog:function(e){var i=this.addClass("loading").children(".ui-dialog-content").empty();e.done(function(e){i.html(e).parent().removeClass("loading")})}}),e(".ss-gridfield .add-existing-search").entwine({onclick:function(){var i=e("<div></div>").appendTo("body").dialog({modal:!0,resizable:!1,width:500,height:600,close:function(){e(this).dialog("destroy").remove()}});return i.parent().addClass("add-existing-search-dialog").loadDialog(e.get(this.prop("href"))),i.data("grid",this.closest(".ss-gridfield")),!1}}),e(".add-existing-search-dialog .add-existing-search-form").entwine({onsubmit:function(){return this.closest(".add-existing-search-dialog").loadDialog(e.get(this.prop("action"),this.serialize())),!1}}),e(".add-existing-search-dialog .add-existing-search-items a").entwine({onclick:function(){var i=this.closest(".add-existing-search-items").data("add-link"),t=this.data("id"),n=this.closest(".add-existing-search-dialog").addClass("loading").children(".ui-dialog-content").empty();return e.post(i,{id:t},function(){n.data("grid").reload(),n.dialog("close")}),!1}}),e(".add-existing-search-dialog .add-existing-search-pagination a").entwine({onclick:function(){return this.closest(".add-existing-search-dialog").loadDialog(e.get(this.prop("href"))),!1}}),e(".ss-gridfield.ss-gridfield-editable").entwine({reload:function(i,t){var n=this,a=[],r=0;n.find("tbody:first .ss-gridfield-item").each(function(){e(this).is(".ss-gridfield-inline-new")&&a.push({index:r,row:e(this).detach()}),r++}),this._super(i,function(){var i=n.find("tbody:first");e.each(a,function(e,t){var a,r=t.row,s=t.index;0===s?i.prepend(r):(a=i.find(".ss-gridfield-item:nth-child("+s+")"),a.length?a.after(r):i.append(r)),n.find("tbody:first").children(".ss-gridfield-no-items").hide()}),t&&t.apply(n,arguments)})},onpaste:function(i){var t=void 0!==i.originalEvent.clipboardData?i.originalEvent.clipboardData:null;if(t){var n=e(i.target),a=n.attr("type");if("text"===a||"email"===a){var r=this.find(".ss-gridfield-inline-new:last").find("input");if("text"===n.attr("type")&&n.is(r)&&""===n.val()){var s=n.parent().attr("class"),d=t.getData("text/plain").match(/[^\r\n]+/g),o=d.length;if(o>1){for(var l=[],c=1;c<o;++c){this.trigger("addnewinline");var u=this.find(".ss-gridfield-inline-new:last"),f=u.find("."+s).find("input");f.val(d[c]),l.push(f)}n.data("pasteManipulatedElements",l),setTimeout(function(){n.val(d[0])},0)}}}}},onkeyup:function(i){if(90==i.keyCode&&i.ctrlKey){var t=e(i.target),n=t.data("pasteManipulatedElements");if(void 0!==n&&n&&n.length){for(var a=0;a<n.length;++a)n[a].closest("tr").remove();t.data("pasteManipulatedElements",[])}}},onaddnewinline:function(i){if(i.target==this[0]){var t=window.tmpl,n=this.find(".ss-gridfield-add-inline-template:last"),a=this.data("add-inline-num")||1;t.cache[this[0].id+"ss-gridfield-add-inline-template"]=t(n.html()),this.find("tbody:first").append(t(this[0].id+"ss-gridfield-add-inline-template",{num:a})),this.find("tbody:first").children(".ss-gridfield-no-items").hide(),this.data("add-inline-num",a+1),e(".ss-gridfield-orderable tbody").rebuildSort()}}}),e(".ss-gridfield-add-new-inline").entwine({onclick:function(){return this.getGridField().trigger("addnewinline"),!1}}),e(".ss-gridfield-delete-inline").entwine({onclick:function(){var e=ss.i18n._t("GridFieldExtensions.CONFIRMDEL","Are you sure you want to delete this?");return confirm(e)&&this.parents("tr.ss-gridfield-inline-new:first").remove(),!1}}),e(".ss-gridfield-add-new-multi-class .btn__addnewmulticlass").entwine({onclick:function(){var e=this.data("href"),i=this.parents(".ss-gridfield-add-new-multi-class").find("select").val();return i&&i.length&&this.getGridField().showDetailView(e.replace("{class}",encodeURI(i))),!1}}),e(".ss-gridfield-add-new-multi-class select").entwine({onadd:function(){this.update()},onchange:function(){this.update()},update:function(){var e=this.parents(".ss-gridfield-add-new-multi-class").find("[data-add-multiclass]");this.val()&&this.val().length?e.removeClass("disabled"):e.addClass("disabled")}}),e(".grid-field .ss-gridfield-item").entwine({onclick:function(e){this.find(".editable-column-field").length&&e.stopPropagation()}}),e(".ss-gridfield-orderable tbody").entwine({rebuildSort:function(){var i=this.getGridField(),t=null;i.getItems().each(function(){var i=e(this).find(".ss-orderable-hidden-sort");if(i.length){var n=i.val();null===t&&n>0?t=n:n>0&&(t=Math.min(t,n))}}),t=Math.max(1,t);var n=t;i.getItems().each(function(){var i=e(this).find(".ss-orderable-hidden-sort");i.length&&(i.val(n),n++)})},onadd:function(){var i=this,t=function(e,i){return i.clone().addClass("ss-gridfield-orderhelper").width("auto").find(".col-buttons").remove().end()},n=function(t,n){var a=!0;void 0!=n&&n.item.hasClass("ss-gridfield-inline-new")&&(a=!1),i.rebuildSort();var r=i.getGridField();if(r.data("immediate-update")&&a)r.reload({url:r.data("url-reorder")});else{e(".cms-edit-form").addClass("changed")}};this.sortable({handle:".handle",helper:t,opacity:.7,update:n})},onremove:function(){this.data("sortable")&&this.sortable("destroy")}}),e(".ss-gridfield-orderable .ss-gridfield-previouspage, .ss-gridfield-orderable .ss-gridfield-nextpage").entwine({onadd:function(){var i=this.getGridField();if(this.is(":disabled"))return!1;var t=function(t,n){var a;a=e(this).hasClass("ss-gridfield-previouspage")?"prev":"next",i.find("tbody").sortable("cancel"),i.reload({url:i.data("url-movetopage"),data:[{name:"move[id]",value:n.draggable.data("id")},{name:"move[page]",value:a}]})};this.droppable({accept:".ss-gridfield-item",activeClass:"ui-droppable-active ui-state-highlight",disabled:this.prop("disabled"),drop:t,tolerance:"pointer"})},onremove:function(){this.hasClass("ui-droppable")&&this.droppable("destroy")}}),e(".ss-gridfield-configurable-paginator .pagination-page-size-select").entwine({onchange:function(){this.parent().find(".ss-gridfield-pagesize-submit").trigger("click")}})})}(jQuery)},function(e,i,t){var n;!function(a){"use strict";var r=function e(i,t){var n=/[^\-\w]/.test(i)?new Function(e.arg,("var _s=''"+e.helper+";_s+='"+i.replace(e.regexp,e.func)+"';return _s;").split("_s+='';").join("")):e.cache[i]=e.cache[i]||e(e.load(i));return n.tmpl=n.tmpl||e,t?n(t):n};r.cache={},r.load=function(e){return document.getElementById(e).innerHTML},r.regexp=/(\s+)|('|\\)(?![^%]*%\})|(?:\{%(=|#)(.+?)%\})|(\{%)|(%\})/g,r.func=function(e,i,t,n,a,r,s,d,o){return i?d&&d+e.length!==o.length?" ":"":t?"\\"+e:n?"="===n?"'+_e("+a+")+'":"'+("+a+"||'')+'":r?"';":s?"_s+='":void 0},r.encReg=/[<>&"\x00]/g,r.encMap={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","\0":""},r.encode=function(e){return String(e||"").replace(r.encReg,function(e){return r.encMap[e]})},r.arg="o",r.helper=",_t=arguments.callee.tmpl,_e=_t.encode,print=function(s,e){_s+=e&&(s||'')||_e(s);},include=function(s,d){_s+=_t(s,d);}",void 0!==(n=function(){return r}.call(i,t,i,e))&&(e.exports=n)}()},function(e,i,t){t(3),t(4),t(2)},function(e,i,t){"use strict";var n=t(0),a=(t.n(n),t(1)),r=t.n(a),s=function(e){var i=e.PopoverField,t=e.id,n=e.children,a=e.container;return r.a.createElement(i,{id:t,buttonSize:"sm",data:{placement:"bottom"},className:"mr-0 btn-sm",popoverClassName:"meatball-menu__actions",container:a},n)};s.propTypes={id:a.PropTypes.string.isRequired,PopoverField:a.PropTypes.oneOfType([a.PropTypes.node,a.PropTypes.func])},s.defaultProps={id:"",PopoverField:null},i.a=t.i(n.inject)(["PopoverField"],function(e){return{PopoverField:e}},function(){return"Meatballs"})(s)},function(e,i){e.exports=ReactDom},function(e,i){e.exports=jQuery}]);